<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåπ OPERATION: ROSE DROP üåπ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
        }
        .bungee { font-family: 'Bungee', cursive; }
        
        .floating-rose {
            position: fixed;
            pointer-events: none;
            z-index: 50;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(20deg); }
        }

        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .neon-border {
            box-shadow: 0 0 10px #ff0055, 0 0 20px #ff0055, 0 0 30px #ff0055;
        }

        .glitch-text {
            text-shadow: 2px 0 #ff0055, -2px 0 #00ffff;
        }

        .hidden-stage {
            display: none;
        }

        #rose-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .btn-crazy {
            transition: all 0.2s;
            background: linear-gradient(45deg, #ff0055, #ff8800);
        }

        .btn-crazy:hover {
            transform: scale(1.1) rotate(5deg);
            filter: brightness(1.2);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 overflow-x-hidden">

    <canvas id="rose-canvas"></canvas>

    <!-- STAGE 1: VERIFICATION -->
    <div id="stage1" class="text-center space-y-8 max-w-lg">
        <h1 class="bungee text-5xl md:text-7xl mb-4 glitch-text animate-pulse">STOP!</h1>
        <div class="bg-zinc-900 p-8 rounded-3xl border-4 border-rose-500 neon-border">
            <p class="text-xl mb-6 font-bold uppercase tracking-widest">Digital Security Check</p>
            <p class="text-gray-400 mb-8">This website contains lethal levels of badmoshi. Please verify you are the designated recipient.</p>
            
            <button onclick="verify(true)" class="btn-crazy bungee px-8 py-4 rounded-full text-xl mb-4 w-full">
                I AM THE CUTEST PERSON ALIVE
            </button>
            <button id="noBtn" onmouseover="moveButton()" onclick="alert('Nice try, imposter!')" class="bg-zinc-800 text-gray-500 px-8 py-2 rounded-full text-sm w-full opacity-50">
                I am someone else
            </button>
        </div>
    </div>

    <!-- STAGE 2: THE FORGE -->
    <div id="stage2" class="hidden-stage text-center space-y-8 max-w-2xl w-full">
        <h2 class="bungee text-4xl text-rose-500">FORGING THE ULTIMATE ROSE</h2>
        <div class="relative bg-zinc-900 p-8 rounded-3xl border-2 border-white/20">
            <div class="flex justify-center mb-6">
                <div id="rose-preview" class="text-8xl transform transition-transform duration-75">ü•Ä</div>
            </div>
            <div class="space-y-6">
                <div class="h-4 w-full bg-zinc-800 rounded-full overflow-hidden">
                    <div id="progress-bar" class="h-full bg-rose-500 w-0 transition-all duration-300"></div>
                </div>
                <p class="text-rose-400 font-mono" id="status-text">ROSE QUALITY: ABYSMAL</p>
                <button onclick="hitRose()" class="btn-crazy bungee px-12 py-6 rounded-2xl text-2xl w-full shadow-xl active:scale-95">
                    CLICK TO SMASH LOVE INTO IT!
                </button>
            </div>
        </div>
        <p class="text-2xl text-rose-500 font-bold animate-pulse uppercase tracking-tighter">
            ‚ö†Ô∏è WARNING: CLICKING TOO FAST MIGHT CAUSE FEELINGS! ‚ö†Ô∏è
        </p>
    </div>

    <!-- STAGE 3: THE REVEAL -->
    <div id="stage3" class="hidden-stage text-center space-y-8 max-w-xl">
        <div class="p-8 rounded-full bg-rose-500/10 border-4 border-rose-500 inline-block animate-bounce">
            <span class="text-9xl">üåπ</span>
        </div>
        <h1 class="bungee text-5xl text-white glitch-text">HAPPY ROSE DAY!</h1>
        <div class="bg-white text-black p-8 rounded-3xl shadow-[10px_10px_0px_#ff0055] text-left">
            <p class="text-2xl font-bold mb-4 bungee text-rose-600">MISSION LOG:</p>
            <ul class="space-y-3 text-lg">
                <li>‚úÖ Target identified (Absolute 10/10)</li>
                <li>‚úÖ Rose forged with high-intensity clicking</li>
                <li>‚úÖ Emotional payload delivered</li>
            </ul>
            <hr class="my-6 border-zinc-200">
            <p class="text-xl leading-relaxed italic">
                "I couldn't just send a normal text because you're anything but normal. You're the chaotic energy I need in my life. Happy Rose Day, my favorite bauni badmosh!"
            </p>
        </div>
        
        <div class="flex flex-wrap justify-center gap-4">
            <button onclick="showerRoses()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-full transition-transform hover:scale-110">
                DEPLOY ROSE RAIN ‚õàÔ∏è
            </button>
            <button onclick="playMusic()" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-6 rounded-full transition-transform hover:scale-110">
                ACTIVATE PARTY VIBES üîä
            </button>
        </div>
    </div>

    <!-- MESSAGES OVERLAY -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-[100] space-y-2 pointer-events-none"></div>

    <script>
        let clickCount = 0;
        const targetClicks = 25;
        const noBtn = document.getElementById('noBtn');

        // Background Animation
        const canvas = document.getElementById('rose-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.color = `rgba(255, ${Math.random() * 50}, ${Math.random() * 100 + 50}, ${Math.random()})`;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) {
                    this.reset();
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for (let i = 0; i < 50; i++) particles.push(new Particle());

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(animate);
        }
        animate();

        // Game Logic
        function verify(isCutie) {
            if (isCutie) {
                showToast("Identity Confirmed: Level 100 Cutie Detected");
                document.getElementById('stage1').classList.add('hidden-stage');
                document.getElementById('stage2').classList.remove('hidden-stage');
            }
        }

        function moveButton() {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'fixed';
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            showToast("ERROR: Access Denied to Non-Cuties", "bg-red-500");
        }

        function hitRose() {
            clickCount++;
            const progress = (clickCount / targetClicks) * 100;
            const preview = document.getElementById('rose-preview');
            const progressBar = document.getElementById('progress-bar');
            const status = document.getElementById('status-text');

            // Visual feedback
            preview.style.transform = `scale(${1 + clickCount * 0.05}) rotate(${clickCount * 10}deg)`;
            progressBar.style.width = `${progress}%`;
            
            // Stages of rose
            if (clickCount < 5) {
                preview.innerText = 'ü•Ä';
                status.innerText = "ROSE QUALITY: DRY STICK";
            } else if (clickCount < 10) {
                preview.innerText = 'üå±';
                status.innerText = "ROSE QUALITY: WEIRD WEED";
            } else if (clickCount < 15) {
                preview.innerText = 'üå∑';
                status.innerText = "ROSE QUALITY: ALMOST THERE";
            } else if (clickCount < 20) {
                preview.innerText = 'üåπ';
                status.innerText = "ROSE QUALITY: MAXIMUM BEAUTY";
                preview.classList.add('shake');
            }

            if (clickCount >= targetClicks) {
                showToast("MAXIMUM LOVE ACHIEVED!", "bg-rose-600");
                setTimeout(() => {
                    document.getElementById('stage2').classList.add('hidden-stage');
                    document.getElementById('stage3').classList.remove('hidden-stage');
                    showerRoses();
                }, 500);
            }
        }

        function showToast(text, color = "bg-rose-500") {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `${color} text-white px-4 py-2 rounded-lg shadow-lg font-bold animate-bounce text-sm`;
            toast.innerText = text;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function showerRoses() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const rose = document.createElement('div');
                    rose.className = 'floating-rose text-3xl';
                    rose.innerText = i % 2 === 0 ? 'üåπ' : 'üíñ';
                    rose.style.left = Math.random() * 100 + 'vw';
                    rose.style.top = '-50px';
                    rose.style.transition = `all ${Math.random() * 2 + 3}s linear`;
                    document.body.appendChild(rose);
                    
                    setTimeout(() => {
                        rose.style.top = '110vh';
                        rose.style.transform = `rotate(${Math.random() * 360}deg)`;
                    }, 100);

                    setTimeout(() => rose.remove(), 5000);
                }, i * 100);
            }
        }

        function playMusic() {
            // Using Web Audio API to generate a "happy" beep since we can't load external MP3s easily
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const notes = [523.25, 659.25, 783.99, 1046.50]; // C5, E5, G5, C6
            
            notes.forEach((freq, i) => {
                setTimeout(() => {
                    const osc = audioCtx.createOscillator();
                    const gain = audioCtx.createGain();
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
                    gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.5);
                    osc.connect(gain);
                    gain.connect(audioCtx.destination);
                    osc.start();
                    osc.stop(audioCtx.currentTime + 0.5);
                    showToast("üé∂ Doot!", "bg-emerald-500");
                }, i * 150);
            });
            
            document.body.classList.add('shake');
            setTimeout(() => document.body.classList.remove('shake'), 500);
        }
    </script>
</body>
</html>
